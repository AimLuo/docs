
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-6.2.6">
    
    
      
        <title>视图（Viewer） 状态管理 - Mol* 文档</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#viewer" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Mol* 文档" class="md-header-nav__button md-logo" aria-label="Mol* 文档">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z" fill-opacity=".5"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z" fill-opacity=".25"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Mol* 文档
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              视图（Viewer） 状态管理
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/AimLuo/docs" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Mol* 文档" class="md-nav__button md-logo" aria-label="Mol* 文档">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z" fill-opacity=".5"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z" fill-opacity=".25"/></svg>

    </a>
    Mol* 文档
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/AimLuo/docs" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        安装
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        示例
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../plugin/" class="md-nav__link">
        创建 Molstar 实例
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../data-state/" class="md-nav__link">
        数据（Data） 状态管理
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          视图（Viewer） 状态管理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        视图（Viewer） 状态管理
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#canvas3d-properties" class="md-nav__link">
    Canvas3D Properties
  </a>
  
    <nav class="md-nav" aria-label="Canvas3D Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    改变背景色，高亮，选中色
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactivity" class="md-nav__link">
    交互（interactivity）
  </a>
  
    <nav class="md-nav" aria-label="交互（interactivity）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mol" class="md-nav__link">
    Mol* 日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toast" class="md-nav__link">
    显示 Toast 信息
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#behaviors" class="md-nav__link">
    行为（Behaviors）
  </a>
  
    <nav class="md-nav" aria-label="行为（Behaviors）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#highlight-loci" class="md-nav__link">
    高亮（Highlight） Loci
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-loci" class="md-nav__link">
    选中（Select） Loci
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#focus-loci" class="md-nav__link">
    聚焦（Focus） Loci
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zoom-loci" class="md-nav__link">
    缩放（Zoom） Loci
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../selections/" class="md-nav__link">
        选中模式（selections）
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
      
      <label class="md-nav__link" for="nav-7">
        transforms
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="transforms" data-md-level="1">
        <label class="md-nav__title" for="nav-7">
          <span class="md-nav__icon md-icon"></span>
          transforms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../transforms/custom-trajectory/" class="md-nav__link">
        通过自定义格式加载 Trajectory
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
      
      <label class="md-nav__link" for="nav-8">
        Data Access Tools
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Access Tools" data-md-level="1">
        <label class="md-nav__title" for="nav-8">
          <span class="md-nav__icon md-icon"></span>
          Data Access Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-access-tools/model-server/" class="md-nav__link">
        Model Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-access-tools/volume-server/" class="md-nav__link">
        Volume Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-access-tools/plugin-state-server/" class="md-nav__link">
        Plugin State Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-access-tools/convert-to-bcif/" class="md-nav__link">
        Convert CIF to BinaryCIF
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-access-tools/create-ccd-table/" class="md-nav__link">
        Create Table from CCD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-access-tools/extract-ccd-ions/" class="md-nav__link">
        Extract Ions from CCD
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#canvas3d-properties" class="md-nav__link">
    Canvas3D Properties
  </a>
  
    <nav class="md-nav" aria-label="Canvas3D Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    改变背景色，高亮，选中色
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactivity" class="md-nav__link">
    交互（interactivity）
  </a>
  
    <nav class="md-nav" aria-label="交互（interactivity）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mol" class="md-nav__link">
    Mol* 日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toast" class="md-nav__link">
    显示 Toast 信息
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#behaviors" class="md-nav__link">
    行为（Behaviors）
  </a>
  
    <nav class="md-nav" aria-label="行为（Behaviors）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#highlight-loci" class="md-nav__link">
    高亮（Highlight） Loci
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-loci" class="md-nav__link">
    选中（Select） Loci
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#focus-loci" class="md-nav__link">
    聚焦（Focus） Loci
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zoom-loci" class="md-nav__link">
    缩放（Zoom） Loci
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/AimLuo/docs/edit/master/docs/viewer-state.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="viewer">视图（Viewer） 状态管理</h1>
<h2 id="canvas3d-properties"><code>Canvas3D</code> Properties</h2>
<p><a href="https://github.com/molstar/molstar/blob/master/src/mol-canvas3d/canvas3d.ts"><code>Canvas3D</code></a> 的属性可以通过 <a href="https://github.com/molstar/molstar/blob/master/src/mol-plugin/commands.ts"><code>PluginCommands</code></a> 修改  </p>
<h3 id="_1">改变背景色，高亮，选中色</h3>
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ColorNames</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;molstar/lib/mol-util/color/names&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">PluginCommands</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;molstar/lib/mol-plugin/commands&#39;</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">renderer</span> <span class="o">=</span> <span class="nx">plugin</span><span class="p">.</span><span class="nx">canvas3d</span><span class="o">!</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">renderer</span><span class="p">;</span>
<span class="nx">PluginCommands</span><span class="p">.</span><span class="nx">Canvas3D</span><span class="p">.</span><span class="nx">SetSettings</span><span class="p">(</span><span class="nx">plugin</span><span class="p">,</span> <span class="p">{</span> <span class="nx">settings</span><span class="o">:</span> <span class="p">{</span> <span class="nx">renderer</span><span class="o">:</span> <span class="p">{</span> <span class="p">...</span><span class="nx">renderer</span><span class="p">,</span> <span class="nx">backgroundColor</span>: <span class="kt">ColorNames.red</span> <span class="cm">/* or: 0xff0000 as Color */</span> <span class="p">}</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div>
<p>类似的, <code>highlightColor</code> 和 <code>selectColor</code> 可以被更新</p>
<h2 id="interactivity">交互（interactivity）</h2>
<p>Mol* 的交互是基于 <code>Loci</code>（点，坐标的集合？） 的概念. <code>Loci</code> 通常引用一组对象，并且可以通过 <a href="../selections/"><code>Selection</code></a> 创建。 For example, the
<code>Loci</code> 通过蛋白质的label_asym_id B 捕获链中的所有原子:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Script</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;molstar/lib/mol-script/script&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">StructureSelection</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;molstar/lib/mol-model/structure/query&#39;</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">structure</span><span class="p">.</span><span class="nx">hierarchy</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">structures</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">cell</span><span class="p">.</span><span class="nx">obj</span><span class="o">?</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">selection</span> <span class="o">=</span> <span class="nx">Script</span><span class="p">.</span><span class="nx">getStructureSelection</span><span class="p">(</span><span class="nx">Q</span> <span class="p">=&gt;</span> <span class="nx">Q</span><span class="p">.</span><span class="nx">struct</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">atomGroups</span><span class="p">({</span>
    <span class="s1">&#39;chain-test&#39;</span><span class="o">:</span> <span class="nx">Q</span><span class="p">.</span><span class="nx">core</span><span class="p">.</span><span class="nx">rel</span><span class="p">.</span><span class="nx">eq</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="nx">Q</span><span class="p">.</span><span class="nx">ammp</span><span class="p">(</span><span class="s1">&#39;label_asym_id&#39;</span><span class="p">)])</span>
<span class="p">}),</span> <span class="nx">data</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">loci</span> <span class="o">=</span> <span class="nx">StructureSelection</span><span class="p">.</span><span class="nx">toLociWithSourceUnits</span><span class="p">(</span><span class="nx">selection</span><span class="p">);</span>
</code></pre></div>
<p>一个 <code>Loci</code> 可以用于触发 <a href="#behaviors"><code>Behaviors</code></a>.</p>
<h3 id="mol">Mol* 日志</h3>
<p>内置的日志信息位于底部中央</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">log</span><span class="p">.</span><span class="nx">message</span><span class="p">(</span><span class="s1">&#39;This message will appear in the Mol* console&#39;</span><span class="p">);</span>
</code></pre></div>
<p>其他日志等级有: <code>info</code>, <code>warn</code>, and <code>error</code>.</p>
<h3 id="toast">显示 Toast 信息</h3>
<p>Toast 消息将出现在插件的右下方，并在消失前停留一段有限的时间。</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">PluginCommands</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;molstar/lib/mol-plugin/commands&#39;</span><span class="p">;</span>

<span class="nx">PluginCommands</span><span class="p">.</span><span class="nx">Toast</span><span class="p">.</span><span class="nx">Show</span><span class="p">(</span><span class="nx">plugin</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Custom Message&#39;</span><span class="p">,</span>
    <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;A custom toast message that will disappear after 2 seconds.&#39;</span><span class="p">,</span>
    <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;toast-custom&#39;</span><span class="p">,</span>
    <span class="nx">timeoutMs</span>: <span class="kt">2000</span>
<span class="p">});</span>
</code></pre></div>
<h2 id="behaviors">行为（Behaviors）</h2>
<p>Mol*插件的状态通常由动态行为（behaviors）控制，动态行为（behaviors）可以在初始化时设置，也可以在运行时更新。这允许单个插件实例的高度模块化和可定制性。</p>
<h3 id="highlight-loci">高亮（Highlight） <code>Loci</code></h3>
<p>高亮会短暂显示，直到鼠标移动到其他对象上。可以按下面方法设置 <code>Loci</code> 高亮:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">interactivity</span><span class="p">.</span><span class="nx">lociHighlights</span><span class="p">.</span><span class="nx">highlightOnly</span><span class="p">({</span> <span class="nx">loci</span> <span class="p">});</span>
</code></pre></div>
<p>重置所有高亮:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">interactivity</span><span class="p">.</span><span class="nx">clearHighlights</span><span class="p">();</span>
</code></pre></div>
<h3 id="select-loci">选中（Select） <code>Loci</code></h3>
<p>Selected elements will appear with distinct visuals and, if applicable, the corresponding sequence positions will be
shown in the Sequence Viewer panel. Selections persist until removed, for example by clicking the background. A <code>Loci</code>
is selected by:
选定的元素将以不同的视觉效果出现，如果适用，相应的序列位置将显示在 <code>Sequence Viewer panel</code> 中。选择会一直保留，直到被移除，例如通过单击背景。<code>Loci</code> 通过以下方式选择:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">interactivity</span><span class="p">.</span><span class="nx">lociSelects</span><span class="p">.</span><span class="nx">select</span><span class="p">({</span> <span class="nx">loci</span> <span class="p">});</span>
</code></pre></div>
<p>取消选中 <code>Loci</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">interactivity</span><span class="p">.</span><span class="nx">lociSelects</span><span class="p">.</span><span class="nx">deselect</span><span class="p">({</span> <span class="nx">loci</span> <span class="p">});</span>
</code></pre></div>
<p>取消所有选中:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">interactivity</span><span class="p">.</span><span class="nx">lociSelects</span><span class="p">.</span><span class="nx">deselectAll</span><span class="p">();</span>
</code></pre></div>
<h3 id="focus-loci">聚焦（Focus） <code>Loci</code></h3>
<p>The focus representation shows a <code>Loci</code> in ball-and-stick representation and, additionally, visualizes non-covalent
interactions between atoms of the <code>Loci</code> as well as interactions with surrounding residues (default: 5 Å).</p>
<blockquote>
<p>显示啥残基之类的</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">structure</span><span class="p">.</span><span class="nx">focus</span><span class="p">.</span><span class="nx">setFromLoci</span><span class="p">(</span><span class="nx">loci</span><span class="p">);</span>
</code></pre></div>
<p>添加:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">structure</span><span class="p">.</span><span class="nx">focus</span><span class="p">.</span><span class="nx">addFromLoci</span><span class="p">(</span><span class="nx">loci</span><span class="p">);</span>
</code></pre></div>
<p>重置:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">structure</span><span class="p">.</span><span class="nx">focus</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</code></pre></div>
<h3 id="zoom-loci">缩放（Zoom） <code>Loci</code></h3>
<p>聚焦</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">focusLoci</span><span class="p">(</span><span class="nx">loci</span><span class="p">);</span>
</code></pre></div>
<p>重置</p>
<div class="highlight"><pre><span></span><code><span class="nx">plugin</span><span class="p">.</span><span class="nx">managers</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../data-state/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                数据（Data） 状态管理
              </div>
            </div>
          </a>
        
        
          <a href="../selections/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                选中模式（selections）
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.53cc9318.min.js"></script>
      <script src="../assets/javascripts/bundle.e9c9f54f.min.js"></script><script id="__lang" type="application/json">{"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>